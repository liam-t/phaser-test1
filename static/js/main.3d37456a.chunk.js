(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{1491:function(e,a,t){"use strict";t.r(a);var n=t(4),i=t.n(n),r=t(548),s=t.n(r),o=(t(564),t(565),t(160)),c=t(100),l=t(163),u=(t(566),t(32)),d=t(161),m=t(120),p=t(164),h=t(162),y=t(165),f=t(549),g=t.n(f),b=t(550),k=t.n(b),v=t(121),w=function(e){e.anims.create({key:"idle",frames:e.anims.generateFrameNames("player",{prefix:"idle-",start:1,end:4}),frameRate:8,repeat:-1}),e.anims.create({key:"jump",frames:e.anims.generateFrameNames("player",{prefix:"jump-",start:1,end:7}),frameRate:8}),e.anims.create({key:"jumpIdle",frames:e.anims.generateFrameNames("player",{prefix:"jump-",start:7,end:7}),frameRate:8}),e.anims.create({key:"kick",frames:e.anims.generateFrameNames("player",{prefix:"kick-",start:1,end:2}),frameRate:8}),e.anims.create({key:"forward",frames:e.anims.generateFrameNames("player",{prefix:"forward-",start:1,end:6}),frameRate:8,repeat:-1}),e.anims.create({key:"backward",frames:e.anims.generateFrameNames("player",{prefix:"backward-",start:1,end:6}),frameRate:8,repeat:-1}),e.anims.create({key:"turn",frames:e.anims.generateFrameNames("player",{prefix:"turn-",start:1,end:6}),frameRate:8})},j=function(e){function a(e){var t;Object(d.a)(this,a);var n=e.sys.game.canvas,i=n.width,r=n.height;return(t=Object(p.a)(this,Object(h.a)(a).call(this,e,.1*i,.9*r,"player"))).scene=e,w(e),t.keys=e.input.keyboard.addKeys({left:u.Input.Keyboard.KeyCodes.A,right:u.Input.Keyboard.KeyCodes.D,up:u.Input.Keyboard.KeyCodes.W,down:u.Input.Keyboard.KeyCodes.S,kick:u.Input.Keyboard.KeyCodes.I}),t.jumpTimer=0,a.configurePhysics(Object(v.a)(t),e),a.assignUpdateFunction(Object(v.a)(t),e),t.setScale(2),t.anims.play("idle"),t}return Object(y.a)(a,e),Object(m.a)(a,null,[{key:"assignUpdateFunction",value:function(e,a){var t=a.update;a.setUpdate((function(){t(),e.update()}))}},{key:"configurePhysics",value:function(e,a){a.physics.world.enableBody(e),e.body.setBounce(.2),e.body.setCollideWorldBounds(!0)}}]),Object(m.a)(a,[{key:"jump",value:function(){this.anims.play("jump",!0),this.body.velocity.y=-2400,this.jumpTimer=this.scene.game.loop.time+750}},{key:"kick",value:function(){this.anims.play("kick",!0)}},{key:"walkBackward",value:function(){this.body.setVelocityX(-300),this.anims.play("backward",!0),this.flipX=!1}},{key:"walkForward",value:function(){this.body.setVelocityX(300),this.anims.play("forward",!0),this.flipX=!1}},{key:"idle",value:function(){this.body.setVelocityX(0),this.anims.play("idle",!0)}},{key:"update",value:function(){var e=this.keys,a=e.left,t=e.right,n=e.up;e.kick.isDown?this.kick():a.isDown?this.walkBackward():t.isDown?this.walkForward():this.body.onFloor()?this.idle():this.anims.play("jumpIdle"),n.isDown&&this.body.onFloor()&&this.scene.game.loop.time>this.jumpTimer&&this.jump()}}]),a}(u.GameObjects.Sprite),O=t(551),x=t.n(O),F=t(552),S=t.n(F),B=t(553),E=t.n(B),C=t(554),K=t.n(C),P=function(e){function a(){var e;return Object(d.a)(this,a),(e=Object(p.a)(this,Object(h.a)(a).call(this,"Scene1"))).update=function(){Object.entries(e.bgLayers).forEach((function(a,t,n){var i=Object(c.a)(a,2),r=i[0];i[1],n.length;e.bgLayers[r].tilePositionX=.005*e.cameras.main.scrollX*(t*t*t),e.bgLayers[r].tilePositionY=.005*e.cameras.main.scrollY*(t*t)})),e.setTestVal(Math.round(e.cameras.main.scrollX))},e.setUpdate=function(a){e.update=a},e.player=null,e.bgMap=[{name:"bg",naturalWidth:272,naturalHeight:160},{name:"farBuildings",naturalWidth:213,naturalHeight:142},{name:"buildings",naturalWidth:272,naturalHeight:150},{name:"foreground",naturalWidth:272,naturalHeight:104}],e.bgLayers={},e}return Object(y.a)(a,e),Object(m.a)(a,[{key:"preload",value:function(){this.load.atlas("player",g.a,k.a),this.load.image("foreground",x.a),this.load.image("buildings",S.a),this.load.image("farBuildings",E.a),this.load.image("bg",K.a)}},{key:"create",value:function(){var e=this,a=this.sys.game.canvas,t=a.width,n=a.height;this.setTestVal=this.data.get("setTestVal"),this.bgMap.forEach((function(a,i){var r=a.name,s=a.naturalHeight;e.bgLayers[r]=e.add.tileSprite(0,n-s/2,5*t,s,r),e.bgLayers[r].setScale(2),e.bgLayers[r].setOrigin(0,.75)})),this.player=new j(this),this.add.existing(this.player),this.physics.world.bounds.setTo(0,0,5*t,n),this.cameras.main.setBounds(0,0,5*t,n),this.cameras.main.startFollow(this.player,!0,.1,.1,-.1*t)}}]),a}(u.Scene);function T(){var e=Object(o.a)([""]);return T=function(){return e},e}var I=function(e){var a=e.reactSetter,t={parent:"phaserParent",type:u.CANVAS,width:950,height:500,scale:{mode:u.Scale.FIT,parent:"phaserParent",expandParent:!0,autoCenter:u.Scale.CENTER_BOTH},backgroundColor:"#000000",scene:[P],pixelArt:!0,physics:{default:"arcade",arcade:{gravity:{y:9e3}}},callbacks:{postBoot:function(e){Object(c.a)(e.scene.scenes,1)[0].data.set("setTestVal",a)}}};return new u.Game(t),i.a.createElement(X,{id:"phaserParent"})};I.defaultProps={};var N=i.a.memo(I),X=l.a.div(T());function R(){var e=Object(o.a)(["\n  display: flex;\n  align-items: center;\n  height: 100vh;\n  background-color: black;\n"]);return R=function(){return e},e}var V=function(){var e=i.a.useState(0),a=Object(c.a)(e,2),t=a[0],n=a[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,"phaserCamXPos: ",t),i.a.createElement(L,null,i.a.createElement(N,{reactSetter:n})))};V.defaultProps={};var W=V,L=l.a.div(R());var H=function(){return i.a.createElement(W,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},549:function(e,a,t){e.exports=t.p+"static/media/ryu1.591d7afc.spr"},550:function(e,a,t){e.exports=t.p+"static/media/ryu1.552be6d4.atlas"},551:function(e,a,t){e.exports=t.p+"static/media/foreground.png.2b9bb58d.img"},552:function(e,a,t){e.exports=t.p+"static/media/buildings.png.ac8b3f25.img"},553:function(e,a,t){e.exports=t.p+"static/media/far-buildings.png.94b1cb88.img"},554:function(e,a,t){e.exports=t.p+"static/media/bg.png.2ccf4543.img"},559:function(e,a,t){e.exports=t(1491)},565:function(e,a,t){}},[[559,1,2]]]);
//# sourceMappingURL=main.3d37456a.chunk.js.map